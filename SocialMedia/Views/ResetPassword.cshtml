@using Models
@using Models.ViewModel.Users
@model ResetPasswordModel

<div class="sm:flex">
    @* Form section *@
    <div class="relative lg:w-[580px] md:w-96 w-full p-10 min-h-screen bg-white shadow-xl flex items-center pt-10 z-10">
        <div class="w-full lg:max-w-sm mx-auto space-y-10">
            <div>
                <h2 class="text-2xl font-semibold mb-1.5">Đặt lại Mật khẩu</h2>
                @* Hiển thị thông báo OTP đã gửi *@
                @if (TempData["ResetPasswordMessage"] != null)
                {
                    <p class="text-sm text-green-600 font-normal">@TempData["ResetPasswordMessage"]</p>
                }
                <p class="text-sm text-gray-700 font-normal">Email đang đặt lại: <strong>@Model.Email</strong></p>
            </div>

            <form asp-controller="Authentication" asp-action="ResetPassword" method="post" class="space-y-7 text-sm text-black font-medium">
                <div class="col-span-2 text-red-500" asp-validation-summary="ModelOnly"></div>

                @* Trường ẩn lưu Email *@
                <input type="hidden" asp-for="Email" />

                <div>
                    <label asp-for="Otp">Mã OTP</label>
                    <div class="mt-2.5">
                        <input asp-for="Otp" type="text" placeholder="Mã OTP 6 chữ số" required="" class="!w-full" maxlength="6" />
                        <span asp-validation-for="Otp" class="text-red-500 text-xs mt-1"></span>
                    </div>
                </div>

                <div>
                    <label asp-for="NewPassword">Mật khẩu mới</label>
                    <div class="mt-2.5">
                        <input asp-for="NewPassword" type="password" placeholder="Mật khẩu mới (ít nhất 6 ký tự)" required="" class="!w-full" />
                        <span asp-validation-for="NewPassword" class="text-red-500 text-xs mt-1"></span>
                    </div>
                </div>

                <div>
                    <label asp-for="ConfirmPassword">Xác nhận Mật khẩu mới</label>
                    <div class="mt-2.5">
                        <input asp-for="ConfirmPassword" type="password" placeholder="Xác nhận Mật khẩu" required="" class="!w-full" />
                        <span asp-validation-for="ConfirmPassword" class="text-red-500 text-xs mt-1"></span>
                    </div>
                </div>

                <div>
                    <button type="submit" class="button bg-primary text-white w-full">Đặt lại Mật khẩu</button>
                </div>

                <div class="text-center">
                    <a asp-controller="Authentication" asp-action="ForgotPassword" class="text-blue-700 hover:underline">Gửi lại OTP</a>
                </div>
            </form>
        </div>
    </div>

</div>
