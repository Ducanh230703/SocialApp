@using Models.ViewModel.Users
@model VerifyOtpViewModel

<div class="sm:flex">
    {{-- Form section (Cột Trái) --}}
    <div class="relative lg:w-[580px] md:w-96 w-full p-10 min-h-screen bg-white shadow-xl flex items-center pt-10 z-10">
        <div class="w-full lg:max-w-sm mx-auto space-y-10">

            <div>
                <h2 class="text-2xl font-semibold mb-1.5">Xác thực Email</h2>
                <p class="text-sm text-gray-700 font-normal">
                    Mã OTP đã được gửi tới: <strong class="text-blue-700">@Model.Email</strong>
                </p>
            </div>

            @if (!string.IsNullOrEmpty(Model.Message))
            {
                // Sử dụng màu đỏ cho lỗi, màu xanh cho thông báo thành công/info
                var alertClass = Model.Message.Contains("thành công") ? "bg-green-100 text-green-700" : "bg-red-100 text-red-700";
                <div class="p-3 @alertClass rounded-md text-sm font-medium">@Model.Message</div>
            }

            <form asp-controller="Authentication" asp-action="VerifyOtp" method="post" class="space-y-7 text-sm text-black font-medium">
                <div class="col-span-2 text-red-500" asp-validation-summary="ModelOnly"></div>

                <input type="hidden" asp-for="Email" />

                <div>
                    <label asp-for="OtpCode">Mã OTP (6 chữ số)</label>
                    <div class="mt-2.5">
                        <input asp-for="OtpCode" type="text" pattern="\d*" maxlength="6" placeholder="Nhập mã OTP" required class="!w-full text-center tracking-widest text-lg font-bold" />
                        <span asp-validation-for="OtpCode" class="text-red-500 text-xs mt-1"></span>
                    </div>
                </div>

                <div>
                    <button type="submit" class="button bg-primary text-white w-full">Xác thực Email</button>
                </div>

                <p class="text-xs text-gray-500 text-center">
                    Mã OTP sẽ hết hạn sau 5 phút.
                    <br />
                    <a href="#" class="text-blue-500 mt-1 inline-block">Gửi lại mã OTP</a>
                </p>

            </form>
        </div>
    </div>

    {{-- Image slider (Cột Phải) --}}
    <div class="flex-1 relative bg-primary max-md:hidden">
        @*image slider*@
        <div class="relative w-full h-full" tabindex="-1" uk-slideshow="animation: slide; autoplay: true">

            <ul class="uk-slideshow-items w-full h-full">
                {{-- Slide 1 --}}
                <li class="w-full">
                    <img src="~/images/welcome/welcome-03.png" alt="Xác thực bảo mật" class="w-full h-full object-cover uk-animation-kenburns uk-animation-reverse uk-transform-origin-center-left">

                    <div class="absolute bottom-0 w-full uk-transition-slide-bottom-small z-10">
                        <div class="max-w-xl w-full mx-auto pb-32 px-5 z-30 relative">
                            <h4 class="!text-white text-2xl font-semibold mt-7" uk-slideshow-parallax="y: 600,0,0">Bước cuối cùng cho bảo mật</h4>
                            <p class="!text-white text-lg mt-7 leading-8" uk-slideshow-parallax="y: 800,0,0;">Xác thực mã OTP để kích hoạt tài khoản của bạn và bắt đầu sử dụng dịch vụ.</p>
                        </div>
                    </div>
                    <div class="w-full h-96 bg-gradient-to-t from-black absolute bottom-0 left-0"></div>
                </li>

                {{-- Slide 2 --}}
                <li class="w-full">
                    <img src="~/images/welcome/welcome-04.png" alt="Kết nối ngay" class="w-full h-full object-cover uk-animation-kenburns uk-animation-reverse uk-transform-origin-center-left">
                    <div class="absolute bottom-0 w-full uk-tr ansition-slide-bottom-small z-10">
                        <div class="max-w-xl w-full mx-auto pb-32 px-5 z-30 relative">
                            <h4 class="!text-white text-2xl font-semibold mt-7" uk-slideshow-parallax="y: 800,0,0"> Sẵn sàng kết nối </h4>
                            <p class="!text-white text-lg mt-7 leading-8" uk-slideshow-parallax="y: 800,0,0;"> Chỉ còn một bước nữa là bạn có thể tham gia cộng đồng và tương tác với bạn bè.</p>
                        </div>
                    </div>
                    <div class="w-full h-96 bg-gradient-to-t from-black absolute bottom-0 left-0"></div>
                </li>
            </ul>

            {{-- slide nav (chấm tròn điều hướng) --}}
            <div class="flex justify-center">
                <ul class="inline-flex flex-wrap justify-center absolute bottom-8 gap-1.5 uk-dotnav uk-slideshow-nav"> </ul>
            </div>

        </div>
    </div>
</div>