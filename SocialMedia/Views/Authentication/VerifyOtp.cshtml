@using Models.ViewModel.Users // Đảm bảo đúng namespace của ViewModel
@model VerifyOtpViewModel

<div class="sm:flex">
    <div class="relative lg:w-[580px] md:w-96 w-full p-10 min-h-screen bg-white shadow-xl flex items-center pt-10 z-10">
        <div class="w-full lg:max-w-sm mx-auto space-y-10">

            <div>
                <h2 class="text-2xl font-semibold mb-1.5">Xác thực Email</h2>
                <p class="text-sm text-gray-700 font-normal">
                    Mã OTP đã được gửi tới: <strong class="text-blue-700">@Model.Email</strong>
                </p>
            </div>

            @if (!string.IsNullOrEmpty(Model.Message))
            {
                // Sử dụng màu đỏ cho lỗi, màu xanh cho thông báo thành công/info
                var alertClass = Model.Message.Contains("thành công") ? "bg-green-100 text-green-700" : "bg-red-100 text-red-700";
                <div class="p-3 @alertClass rounded-md text-sm font-medium">@Model.Message</div>
            }

            <form asp-controller="Authentication" asp-action="VerifyOtp" method="post" class="space-y-7 text-sm text-black font-medium">
                <div class="col-span-2 text-red-500" asp-validation-summary="ModelOnly"></div>

                <input type="hidden" asp-for="Email" />

                <div>
                    <label asp-for="OtpCode">Mã OTP (6 chữ số)</label>
                    <div class="mt-2.5">
                        <input asp-for="OtpCode" type="text" pattern="\d*" maxlength="6" placeholder="Nhập mã OTP" required class="!w-full text-center tracking-widest text-lg font-bold" />
                        <span asp-validation-for="OtpCode" class="text-red-500 text-xs mt-1"></span>
                    </div>
                </div>

                <div>
                    <button type="submit" class="button bg-primary text-white w-full">Xác thực Email</button>
                </div>

                <p class="text-xs text-gray-500 text-center">
                    Mã OTP sẽ hết hạn sau 5 phút.
                    <br />
                    <a href="#" class="text-blue-500 mt-1 inline-block">Gửi lại mã OTP</a>
                </p>

            </form>
        </div>
    </div>

    <div class="flex-1 relative bg-primary max-md:hidden">
        @*image slider*@
        <div class="relative w-full h-full" tabindex="-1" uk-slideshow="animation: slide; autoplay: true">
        </div>
    </div>
</div>